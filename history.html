<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BEIRUT TAXI - HISTORY</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'FreeSerifCustom';
            src: url('images/FreeSerifBold-rdMp.otf') format('opentype');
            font-weight: bold; font-style: normal;
        }

        body { 
            background-color: #2b251f; color: #f2e9d9; 
            font-family: 'FreeSerifCustom', 'Noto Sans KR', serif; 
            margin: 0; padding-bottom: 150px; overflow-x: hidden;
        }

        header { margin-top: 60px; text-align: center; margin-bottom: 80px; }
        h1.page-title { font-size: 3.5rem; color: #ffcc00; letter-spacing: 10px; text-transform: uppercase; margin: 0; }

        .main-container { display: flex; width: 95%; max-width: 1400px; margin: 0 auto; gap: 40px; }
        
        /* 1. 모바일 메뉴바 개선: 잘리지 않게 줄바꿈 허용 */
        nav { display: flex; flex-direction: column; min-width: 120px; position: sticky; top: 60px; height: fit-content; z-index: 10; }
        nav a { color: #f2e9d9; text-decoration: none; margin-bottom: 25px; font-size: 1.1rem; letter-spacing: 2px; opacity: 0.7; transition: 0.3s; }
        nav a:hover { opacity: 1; color: #ffcc00; }

        .history-content { flex-grow: 1; min-width: 0; } /* min-width: 0는 그리드 깨짐 방지 */

        .history-section { 
            margin-bottom: 120px; opacity: 0; transform: translateY(30px); 
            transition: all 0.8s ease-out; 
        }
        .history-section.visible { opacity: 1; transform: translateY(0); }

        .text-group { margin-bottom: 30px; }
        .text-group h2 { font-size: 2.2rem; color: #ffcc00; margin-bottom: 15px; letter-spacing: 2px; }
        .text-group p { font-size: 1rem; line-height: 1.8; color: #bcaaa4; max-width: 600px; font-weight: 300; }

        /* 사진 그리드 공통 */
        .photo-grid { display: grid; gap: 15px; margin-top: 20px; }
        .photo-grid img { width: 100%; aspect-ratio: 16/10; object-fit: cover; border: 1px solid rgba(255,255,255,0.1); }

        /* 2. 첫 번째 사진 그리드 (PRIMAL ERA): 겹침 문제 해결 */
        /* 복잡한 span 대신 깔끔하게 3열로 정렬 */
        .grid-5 { grid-template-columns: repeat(3, 1fr); }
        .grid-5 img:nth-child(4), .grid-5 img:nth-child(5) { grid-column: auto; transform: none; width: 100%; }

        /* 3. 두 번째 사진 그리드 (EXPANSION): 3x3 정직사각형 및 5번 중앙 배치 */
        .grid-3x3 { 
            grid-template-columns: repeat(3, 1fr); 
            aspect-ratio: 1/1; /* 전체를 큰 정사각형/직사각형 느낌으로 유지 */
        }
        .grid-3x3 img { aspect-ratio: 1/1; } /* 각 요소를 정삼각형으로 하여 3x3 정렬 */

        /* 4. PENTAPORT 파트: 텍스트 및 사진 가운데 정렬 */
        .center-section { text-align: center; }
        .center-section .text-group p { margin: 0 auto 30px auto; }
        .grid-2-special { display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .grid-2-special img.small { width: 30%; max-width: 200px; }
        .grid-2-special img.large { width: 100%; max-width: 900px; }

        .single-photo img { width: 100%; max-height: 600px; object-fit: cover; }
        .spacer { height: 100px; display: flex; align-items: center; justify-content: center; opacity: 0.5; }

        /* 모바일 대응 */
        @media (max-width: 768px) {
            .main-container { flex-direction: column; }
            nav { 
                flex-direction: row; flex-wrap: wrap; /* 잘리지 않게 줄바꿈 */
                justify-content: center; position: relative; top: 0; gap: 15px; margin-bottom: 40px; 
            }
            nav a { margin-bottom: 0; font-size: 0.9rem; }
            .grid-5, .grid-3x3, .grid-4 { grid-template-columns: repeat(2, 1fr) !important; aspect-ratio: auto; }
            .grid-3x3 img { aspect-ratio: 16/10; }
        }
    </style>
</head>
<body>

    <header><h1 class="page-title">HISTORY</h1></header>

    <div class="main-container">
        <nav>
            <a href="index.html">BRTX</a>
            <a href="members.html">MEMBERS</a>
            <a href="play.html">PLAY</a>
            <a href="https://www.instagram.com/brtx_band/" target="_blank">CONTACT</a>
        </nav>

        <div class="history-content">
            <section class="history-section">
                <div class="text-group">
                    <h2>PRIMAL ERA</h2>
                    <p>유지영의 데모가 모은 그들.<br>2020년 처음으로 밴드의 형태를 갖추다.<br>Single_Surfer's High</p>
                </div>
                <div class="photo-grid grid-5">
                    <img src="images/story/01_초기1.webp"> <img src="images/story/01_초기2.webp"> <img src="images/story/01_초기3.webp">
                    <img src="images/story/05_녹음_머쉬룸1.webp"> <img src="images/story/05_녹음_머쉬룸_2.webp">
                </div>
            </section>

            <section class="history-section">
                <div class="text-group">
                    <h2>02. EMPTY ERA</h2>
                    <p>발매나 무대 기회조차 없었지만 다양한 작업을 이어갔다.<br>EP_연소</p>
                </div>
                <div class="photo-grid grid-4">
                    <img src="images/story/02_초중기2_음악작업2.webp"> <img src="images/story/02_초중기3_녹음.webp"> <img src="images/story/02_초중기4_녹음.webp">
                </div>
            </section>

            <section class="history-section">
                <div class="text-group">
                    <h2>EXPANSION</h2>
                    <p>함께 의논하고 헤쳐나가며 각자의 삶과 밴드의 결속을 유지해가다.<br>EP_SEESAW</p>
                </div>
                <div class="photo-grid grid-3x3">
                    <img src="images/story/04_단체_HBC.webp"> <img src="images/story/05_녹음_톤.webp"> <img src="images/story/04_단체_무대_AOR.webp">
                    <img src="images/story/04_단체_언플라운지.webp"> <img src="images/story/04_단체_프로필.webp"> <img src="images/story/05_녹음_인천창작소.webp">
                    <img src="images/story/04_단체_연신.webp"> <img src="images/story/04_단체_우주파.webp"> <img src="images/story/04_단체_온에어.webp">
                </div>
            </section>

            <section class="history-section center-section">
                <div class="text-group">
                    <h2>PENTAPORT</h2>
                    <p>꿈의 무대 펜타포트에 서다. <br>멤버들은 여기만 오면 다 끝날줄 알았다.</p>
                </div>
                <div class="grid-2-special">
                    <img src="images/story/07_펜타포트_로고.webp" class="small">
                    <img src="images/story/07_펜타포트_무대.webp" class="large">
                </div>
            </section>

            <section class="history-section">
                <div class="text-group">
                    <h2>TASK</h2>
                    <p>그들에게 쥐어진 숙제</p>
                </div>
                <div class="single-photo"><img src="images/story/08_악플.webp"></div>
            </section>

            <div class="spacer">─── TO BE CONTINUED ───</div>
        </div>
    </div>

    <script>
        const observerOptions = { threshold: 0.1 };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.history-section').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>
